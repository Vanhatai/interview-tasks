## С1.3 Функции с необязательными параметрами


В прошлых модулях вы уже познакомились с основным синтаксисом __JavaScript__ и __Python__, а также написали свои первые функции.

Давайте ещё раз вспомним, что такое функция? 

__Функция__ - это часть кода, которая складывается из нескольких операторов, выполняемых вместе. Функция упрощает повторение определенного действия в разных частях программы. Функция может принимать аргументы, как входные данные и возвращает значение.

Но какое значение вернет такая функция?

```javascript
function (a,b){
    a + b
}
```


<details>
    <summary>Ответ</summary>

```undefined```

</details>

Так где же используется функция, которая ничего не возвращает? В случаях, если вам надо выполнить какое-то действие, которое меняет внешнюю переменную. Такая функция обычно называется *случайная функция*, *грязная фунция* или *функция с сайд-эффектом*. [Почитать подробнее об этом можно тут](https://habr.com/ru/post/437512/).

Давайте напишем простую функцию, которая будет получать и выводить рандомное изображение собаки. Если вы еще не знаете про __шаблонные строки__, то загляните [сюда](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/template_strings), а также посмотрите нативный аналог __jQuery.getJSON__ - [fetch](https://developer.mozilla.org/ru/docs/Web/API/Fetch_API/Using_Fetch).

Изображение мы будем получать с этого [сайта](https://dog.ceo/dog-api/breeds-list). Скопируем ссылку, по которой нам нужно будет получить изображение *https://dog.ceo/api/breed//images/random*.
Вывод изображения будет происходить в DOM, поэтому напишем простую структуру HTML
```HTML
<div class="content"></div>
```

После чего, обратимся к нашему блоку и перейдем к написанию нашей функции:

```javascript
const content = document.querySelector(".content");

function getRandomDog (){ }
```

Так как в ссылке не хватает __породы__, то этот параметр мы и будем передавать в нашу функцию, как `breed`. Следующим шагом будет отправка запроса на нужный `url`.
__fetch__ - это глобальная функция, которая первым аргументом получает `url`, а вторым парметром объект с данными, которые нужны для запроса. В нашем случае таких нет, поэтому нам осталось только отправить запрос по нужному `url`.

```javascript
const content = document.querySelector(".content");

function getRandomDog (breed){
    fetch(`https://dog.ceo/api/breed/${breed}/images/random`)
}

getRandomDog('briard') //любая другая порода из списка с маленькой буквы
```

Выполним данный код, нажмем __F12__ и во вкладке __Network__ можно будет увидеть такой объект:
```JSON
{
    "message":"https:\/\/images.dog.ceo\/breeds\/briard\/n02105251_3265.jpg",
    "status":"success"
}
```

Для того, чтобы наше изображение можно было увидеть в красивом формате (картиночке, конечно), мы должны будем забежать на модуль вперед и использовать метод __.then()__, который можно считать альтернативой колбэку. Более подробно вы узнаете о нем позже, а пока нужно будет выполнить стандартные действия, описанные в документации.

```javascript
const content = document.querySelector(".content");

function getRandomDog (breed){
    fetch(`https://dog.ceo/api/breed/${breed}/images/random`)
    .then(function(response){
        return response.json();
    })
    .then(function(response){
        console.log(response.message);
    })
}

getRandomDog('briard')
```

В консоле будет висеть ссылка, которую мы, как вы могли догадаться, должны вставить внуть `<img src="" >`. Самым простым способом сделать это будет:

```javascript
content.innerHTML = `<img src="${response.message}" alt="dog">`
```

Итоговый код нашего приложения почти готов - 

```javascript
const content = document.querySelector(".content");

function getRandomDog (breed){
    fetch(`https://dog.ceo/api/breed/${breed}/images/random`)
    .then(function(response){
        return response.json();
    })
    .then(function(response){
        content.innerHTML = `<img src="${response.message}" alt="dog">`;
    })
}

getRandomDog('briard')
```

Но давайте подумаем как масштабировать наше приложение, ведь возможно вам придется добавлять поля ввода, в которые пользователи могут ввести число:

```javascript
if(!isNaN(breed)){
  	content.innerHTML = `<p>Введите породу</p>`
    return;
}
```

В данном случае мы проверяем является ли порода числом, а с помощью логического оператора `!` инвертируем значение. В третьей строке мы возвращаем ничего(буквально), более явно код бы выглядел так - `return undefined`. В таком случае интерпритатор закончит выполнять нашу функцию и запрос не отправится, а пользователь увидит предупреждение.

Оригинальным решением будет также заменить значение на значение по умолчанию, например так:

```javascript
if(!isNaN(breed)){
  	breed = 'boxer'
}
```

Либо в некоторых случаях, вот так:
```javascript
function getRandomDog (breed = 'boxer'){
    //...
}
getRandomDog()
```

Домашнее задание, найти еще один способ замены аргумента по умолчанию (подсказка - псевдомассив **arguments**)
